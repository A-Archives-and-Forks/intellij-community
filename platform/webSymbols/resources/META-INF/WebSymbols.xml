<idea-plugin>
  <extensions defaultExtensionNs="com.intellij">
    <projectService serviceInterface="com.intellij.webSymbols.query.PolySymbolsQueryExecutorFactory"
                    serviceImplementation="com.intellij.webSymbols.query.impl.PolySymbolsQueryExecutorFactoryImpl"/>

    <metaLanguage implementation="com.intellij.webSymbols.PolySymbolsEnabledLanguage"/>
    <annotator language="PolySymbolsEnabledLanguage"
               implementationClass="com.intellij.webSymbols.highlighting.impl.PolySymbolsHighlightingAnnotator"/>

    <webSymbols.webTypes.filter
      name="match-prefix"
      implementation="com.intellij.webSymbols.webTypes.filters.WebSymbolsMatchPrefixFilter"/>
    <webSymbols.documentationCustomizer
      id="web-types"
      implementation="com.intellij.webSymbols.webTypes.WebTypesDocumentationCustomizer"/>

    <platform.backend.documentation.targetProvider
      implementation="com.intellij.webSymbols.documentation.PolySymbolDocumentationTargetProvider"/>
    <psi.declarationProvider implementation="com.intellij.webSymbols.declarations.impl.PolySymbolDeclarationProviderDelegate"/>

    <!--suppress PluginXmlRegistrationCheck -->
    <psi.symbolReferenceProvider hostElementClass="com.intellij.model.psi.PsiExternalReferenceHost"
                                 hostLanguage="PolySymbolsEnabledLanguage"
                                 implementationClass="com.intellij.webSymbols.references.impl.PsiWebSymbolReferenceProviderImpl"
                                 targetClass="com.intellij.webSymbols.PolySymbol"
                                 referenceClass="com.intellij.webSymbols.references.PolySymbolReference"/>

    <referencesSearch implementation="com.intellij.webSymbols.search.PsiSourcedWebSymbolReferenceSearcher"/>
    <refactoring.helper implementation="com.intellij.webSymbols.refactoring.PsiSourcedPolySymbolRefactoringHelper"/>
    <renameHandler implementation="com.intellij.webSymbols.refactoring.PsiSourcedPolySymbolRenameHandler"/>

    <rename.symbolRenameTargetFactory implementation="com.intellij.webSymbols.refactoring.PolySymbolRenameTargetFactory"/>
    <lang.symbolSearchTarget forClass="com.intellij.webSymbols.PolySymbol"
                             implementationClass="com.intellij.webSymbols.search.WebSymbolSearchTargetFactory"/>

    <searcher forClass="com.intellij.find.usages.api.UsageSearchParameters"
              implementationClass="com.intellij.webSymbols.search.WebSymbolsUsageSearcher"/>
    <searcher forClass="com.intellij.refactoring.rename.api.RenameUsageSearchParameters"
              implementationClass="com.intellij.webSymbols.refactoring.PolySymbolsRenameUsageSearcher"/>
  </extensions>
</idea-plugin>
